{% extends "layout.html" %}
{% block header %}
<div>
  <h2>{{node["name"]|e}}</h2>
  <dl class="dl-horizontal">
    <dt>path</dt>
    <dd>{{node["path"]|e}}</dd>
    <dt>comment</dt>
    <dd class="dp-comment" dp-path="{{node['path']}}">{{node["comment"]|e}}</dd>
    <dt>tag</dt>
    <dd>
      {% for p in parents %}
      <span class="label label-default">
        <a href="{{ url_for('show_node', path=p['path'][1:])}}"> {{p['name']|e}}</a>
        <a href="{{ url_for('untag', path=node['path'][1:], project_path=p['path'][1:])}}">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"/>
      </a></span>
      {% endfor %}
      <form action="{{ url_for('add_tag', path=node['path'][1:]) }}"
            method="post" class="form-inline add_tag" >
        <input class="form-control" type=text name=tagname>
        <button type="submit" class="btn btn-default">
          <span class="glyphicon glyphicon-tag" aria-hidden="true"/>
          <button/>
      </form>
    </dd>
  </dl>
</div>
{% endblock %}
{% block body %}
{% if ipynb %}
<div class="panel panel-default">
  <div class="panel-heading">IPython Notebooks</div>
  <table class="table">
    <thead>
      <tr>
        <td>name</td>
        <td>comment</td>
        <td>path</td>
      </tr>
    </thead>
    <tbody>
      {% for n in ipynb %}
      <tr>
        {% if n["url"] %}
        <td><a href="{{n['url']}}" target="_blank">{{n["name"]|e}}</a></td>
        {% else %}
        <td>{{n["name"]|e}}</td>
        {% endif %}
        <td class="dp-comment" dp-path="{{n['path']}}">{{n["comment"]|e}}</td>
        <td>{{n["path"]|e}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}
{% endblock %}
